{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/alcipir/Repos/bitcoin-abc/web/cashtab/mobile/components/OnBoarding/OnBoarding.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n    color: #444;\\n    width: 100%;\\n    font-size: 16px;\\n    margin-bottom: 60px;\\n    text-align: left;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { WalletContext } from \"../../utils/context\";\nimport { Input, Form, Modal } from 'antd';\nimport { ExclamationCircleOutlined, PlusSquareOutlined, ImportOutlined, LockOutlined } from '@ant-design/icons';\nimport StyledOnboarding from \"..//Common/StyledOnBoarding\";\nimport PrimaryButton, { SecondaryButton, SmartButton } from \"../Common/PrimaryButton\";\nimport { currency } from \"../Common/Ticker.js\";\nimport { Event } from \"../../utils/GoogleAnalytics\";\nexport var WelcomeText = styled.p(_templateObject());\nexport var OnBoarding = function OnBoarding(_ref) {\n  var history = _ref.history;\n  var ContextValue = React.useContext(WalletContext);\n  var createWallet = ContextValue.createWallet,\n      validateMnemonic = ContextValue.validateMnemonic;\n\n  var _useState = useState({\n    dirty: true,\n    mnemonic: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      seedInput = _useState4[0],\n      openSeedInput = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isValidMnemonic = _useState6[0],\n      setIsValidMnemonic = _useState6[1];\n\n  var confirm = Modal.confirm;\n\n  function submit() {\n    return _regeneratorRuntime.async(function submit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n              dirty: false\n            }));\n\n            if (formData.mnemonic) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 3:\n            Event('Onboarding.js', 'Create Wallet', 'Imported');\n            createWallet(formData.mnemonic);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        value = _e$target.value,\n        name = _e$target.name;\n    setIsValidMnemonic(validateMnemonic(value));\n    setFormData(function (p) {\n      return _objectSpread(_objectSpread({}, p), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  function showBackupConfirmModal() {\n    confirm({\n      title: \"Don't forget to back up your wallet\",\n      icon: React.createElement(ExclamationCircleOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 19\n        }\n      }),\n      content: \"Once your wallet is created you can back it up by writing down your 12-word seed. You can find your seed on the Settings page. If you are browsing in Incognito mode or if you clear your browser history, you will lose any funds that are not backed up!\",\n      okText: 'Okay, make me a wallet!',\n      onOk: function onOk() {\n        Event('Onboarding.js', 'Create Wallet', 'New');\n        createWallet();\n      }\n    });\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(WelcomeText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Welcome to CashTab! CashTab is an open source, non-custodial web wallet for \", currency.name, \".\", React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }), React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), \"Web wallets offer user convenience, but storing large amounts of money on a web wallet is not recommended.\", React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }), React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }), \"Create a new wallet below to get started, or import an existing wallet using a seed phrase.\"), React.createElement(PrimaryButton, {\n    onClick: function onClick() {\n      return showBackupConfirmModal();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, React.createElement(PlusSquareOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), \" New Wallet\"), React.createElement(SecondaryButton, {\n    onClick: function onClick() {\n      return openSeedInput(!seedInput);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, React.createElement(ImportOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }), \" Import Wallet\"), seedInput && React.createElement(StyledOnboarding, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, React.createElement(Form, {\n    style: {\n      width: 'auto'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, React.createElement(Form.Item, {\n    validateStatus: !formData.dirty && !formData.mnemonic ? 'error' : '',\n    help: !formData.mnemonic || !isValidMnemonic ? 'Valid mnemonic seed phrase required' : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, React.createElement(Input, {\n    prefix: React.createElement(LockOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 41\n      }\n    }),\n    placeholder: \"mnemonic (seed phrase)\",\n    name: \"mnemonic\",\n    onChange: function onChange(e) {\n      return handleChange(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  })), React.createElement(SmartButton, {\n    disabled: !isValidMnemonic,\n    onClick: function onClick() {\n      return submit();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, \"Import\"))));\n};","map":{"version":3,"sources":["/Users/alcipir/Repos/bitcoin-abc/web/cashtab/mobile/components/OnBoarding/OnBoarding.js"],"names":["React","useState","styled","WalletContext","Input","Form","Modal","ExclamationCircleOutlined","PlusSquareOutlined","ImportOutlined","LockOutlined","StyledOnboarding","PrimaryButton","SecondaryButton","SmartButton","currency","Event","WelcomeText","p","OnBoarding","history","ContextValue","useContext","createWallet","validateMnemonic","dirty","mnemonic","formData","setFormData","seedInput","openSeedInput","isValidMnemonic","setIsValidMnemonic","confirm","submit","handleChange","e","target","value","name","showBackupConfirmModal","title","icon","content","okText","onOk","width"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,aAAT;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,KAAtB,QAAmC,MAAnC;AACA,SACIC,yBADJ,EAEIC,kBAFJ,EAGIC,cAHJ,EAIIC,YAJJ,QAKO,mBALP;AAMA,OAAOC,gBAAP;AACA,OAAOC,aAAP,IACIC,eADJ,EAEIC,WAFJ;AAIA,SAASC,QAAT;AACA,SAASC,KAAT;AAEA,OAAO,IAAMC,WAAW,GAAGf,MAAM,CAACgB,CAAV,mBAAjB;AAQP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAiB;AAAA,MAAdC,OAAc,QAAdA,OAAc;AACvC,MAAMC,YAAY,GAAGrB,KAAK,CAACsB,UAAN,CAAiBnB,aAAjB,CAArB;AADuC,MAE/BoB,YAF+B,GAEIF,YAFJ,CAE/BE,YAF+B;AAAA,MAEjBC,gBAFiB,GAEIH,YAFJ,CAEjBG,gBAFiB;;AAAA,kBAGPvB,QAAQ,CAAC;AACrCwB,IAAAA,KAAK,EAAE,IAD8B;AAErCC,IAAAA,QAAQ,EAAE;AAF2B,GAAD,CAHD;AAAA;AAAA,MAGhCC,QAHgC;AAAA,MAGtBC,WAHsB;;AAAA,mBAQJ3B,QAAQ,CAAC,KAAD,CARJ;AAAA;AAAA,MAQhC4B,SARgC;AAAA,MAQrBC,aARqB;;AAAA,mBASO7B,QAAQ,CAAC,KAAD,CATf;AAAA;AAAA,MAShC8B,eATgC;AAAA,MASfC,kBATe;;AAAA,MAU/BC,OAV+B,GAUnB3B,KAVmB,CAU/B2B,OAV+B;;AAYvC,WAAeC,MAAf;AAAA;AAAA;AAAA;AAAA;AACIN,YAAAA,WAAW,iCACJD,QADI;AAEPF,cAAAA,KAAK,EAAE;AAFA,eAAX;;AADJ,gBAMSE,QAAQ,CAACD,QANlB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAWIV,YAAAA,KAAK,CAAC,eAAD,EAAkB,eAAlB,EAAmC,UAAnC,CAAL;AACAO,YAAAA,YAAY,CAACI,QAAQ,CAACD,QAAV,CAAZ;;AAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAeA,MAAMS,YAAY,GAAG,SAAfA,YAAe,CAAAC,CAAC,EAAI;AAAA,oBACEA,CAAC,CAACC,MADJ;AAAA,QACdC,KADc,aACdA,KADc;AAAA,QACPC,IADO,aACPA,IADO;AAKtBP,IAAAA,kBAAkB,CAACR,gBAAgB,CAACc,KAAD,CAAjB,CAAlB;AAEAV,IAAAA,WAAW,CAAC,UAAAV,CAAC;AAAA,6CAAUA,CAAV,2BAAcqB,IAAd,EAAqBD,KAArB;AAAA,KAAF,CAAX;AACH,GARD;;AAUA,WAASE,sBAAT,GAAkC;AAC9BP,IAAAA,OAAO,CAAC;AACJQ,MAAAA,KAAK,EAAE,qCADH;AAEJC,MAAAA,IAAI,EAAE,oBAAC,yBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF;AAGJC,MAAAA,OAAO,8PAHH;AAIJC,MAAAA,MAAM,EAAE,yBAJJ;AAKJC,MAAAA,IALI,kBAKG;AAGH7B,QAAAA,KAAK,CAAC,eAAD,EAAkB,eAAlB,EAAmC,KAAnC,CAAL;AACAO,QAAAA,YAAY;AACf;AAVG,KAAD,CAAP;AAYH;;AAED,SACI,0CACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qFAEgBR,QAAQ,CAACwB,IAFzB,OAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,gHAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,gGADJ,EAcI,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAE;AAAA,aAAMC,sBAAsB,EAA5B;AAAA,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,gBAdJ,EAkBI,oBAAC,eAAD;AAAiB,IAAA,OAAO,EAAE;AAAA,aAAMV,aAAa,CAAC,CAACD,SAAF,CAAnB;AAAA,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,mBAlBJ,EAqBKA,SAAS,IACN,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEiB,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,cAAc,EACV,CAACnB,QAAQ,CAACF,KAAV,IAAmB,CAACE,QAAQ,CAACD,QAA7B,GACM,OADN,GAEM,EAJd;AAMI,IAAA,IAAI,EACA,CAACC,QAAQ,CAACD,QAAV,IAAsB,CAACK,eAAvB,GACM,qCADN,GAEM,EATd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYI,oBAAC,KAAD;AACI,IAAA,MAAM,EAAE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADZ;AAEI,IAAA,WAAW,EAAC,wBAFhB;AAGI,IAAA,IAAI,EAAC,UAHT;AAII,IAAA,QAAQ,EAAE,kBAAAK,CAAC;AAAA,aAAID,YAAY,CAACC,CAAD,CAAhB;AAAA,KAJf;AAKI,IAAA,QAAQ,MALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZJ,CADJ,EAsBI,oBAAC,WAAD;AACI,IAAA,QAAQ,EAAE,CAACL,eADf;AAEI,IAAA,OAAO,EAAE;AAAA,aAAMG,MAAM,EAAZ;AAAA,KAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBJ,CADJ,CAtBR,CADJ;AAyDH,CA7GM","sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { WalletContext } from '../../utils/context';\nimport { Input, Form, Modal } from 'antd';\nimport {\n    ExclamationCircleOutlined,\n    PlusSquareOutlined,\n    ImportOutlined,\n    LockOutlined,\n} from '@ant-design/icons';\nimport StyledOnboarding from '..//Common/StyledOnBoarding';\nimport PrimaryButton, {\n    SecondaryButton,\n    SmartButton,\n} from '../Common/PrimaryButton';\nimport { currency } from '../Common/Ticker.js';\nimport { Event } from '../../utils/GoogleAnalytics';\n\nexport const WelcomeText = styled.p`\n    color: #444;\n    width: 100%;\n    font-size: 16px;\n    margin-bottom: 60px;\n    text-align: left;\n`;\n\nexport const OnBoarding = ({ history }) => {\n    const ContextValue = React.useContext(WalletContext);\n    const { createWallet, validateMnemonic } = ContextValue;\n    const [formData, setFormData] = useState({\n        dirty: true,\n        mnemonic: '',\n    });\n\n    const [seedInput, openSeedInput] = useState(false);\n    const [isValidMnemonic, setIsValidMnemonic] = useState(false);\n    const { confirm } = Modal;\n\n    async function submit() {\n        setFormData({\n            ...formData,\n            dirty: false,\n        });\n\n        if (!formData.mnemonic) {\n            return;\n        }\n        // Event(\"Category\", \"Action\", \"Label\")\n        // Track number of created wallets from onboarding\n        Event('Onboarding.js', 'Create Wallet', 'Imported');\n        createWallet(formData.mnemonic);\n    }\n\n    const handleChange = e => {\n        const { value, name } = e.target;\n\n        // Validate mnemonic on change\n        // Import button should be disabled unless mnemonic is valid\n        setIsValidMnemonic(validateMnemonic(value));\n\n        setFormData(p => ({ ...p, [name]: value }));\n    };\n\n    function showBackupConfirmModal() {\n        confirm({\n            title: \"Don't forget to back up your wallet\",\n            icon: <ExclamationCircleOutlined />,\n            content: `Once your wallet is created you can back it up by writing down your 12-word seed. You can find your seed on the Settings page. If you are browsing in Incognito mode or if you clear your browser history, you will lose any funds that are not backed up!`,\n            okText: 'Okay, make me a wallet!',\n            onOk() {\n                // Event(\"Category\", \"Action\", \"Label\")\n                // Track number of created wallets from onboarding\n                Event('Onboarding.js', 'Create Wallet', 'New');\n                createWallet();\n            },\n        });\n    }\n\n    return (\n        <>\n            <WelcomeText>\n                Welcome to CashTab! CashTab is an open source, non-custodial web\n                wallet for {currency.name}.\n                <br />\n                <br />\n                Web wallets offer user convenience, but storing large amounts of\n                money on a web wallet is not recommended.\n                <br />\n                <br />\n                Create a new wallet below to get started, or import an existing\n                wallet using a seed phrase.\n            </WelcomeText>\n\n            <PrimaryButton onClick={() => showBackupConfirmModal()}>\n                <PlusSquareOutlined /> New Wallet\n            </PrimaryButton>\n\n            <SecondaryButton onClick={() => openSeedInput(!seedInput)}>\n                <ImportOutlined /> Import Wallet\n            </SecondaryButton>\n            {seedInput && (\n                <StyledOnboarding>\n                    <Form style={{ width: 'auto' }}>\n                        <Form.Item\n                            validateStatus={\n                                !formData.dirty && !formData.mnemonic\n                                    ? 'error'\n                                    : ''\n                            }\n                            help={\n                                !formData.mnemonic || !isValidMnemonic\n                                    ? 'Valid mnemonic seed phrase required'\n                                    : ''\n                            }\n                        >\n                            <Input\n                                prefix={<LockOutlined />}\n                                placeholder=\"mnemonic (seed phrase)\"\n                                name=\"mnemonic\"\n                                onChange={e => handleChange(e)}\n                                required\n                            />\n                        </Form.Item>\n\n                        <SmartButton\n                            disabled={!isValidMnemonic}\n                            onClick={() => submit()}\n                        >\n                            Import\n                        </SmartButton>\n                    </Form>\n                </StyledOnboarding>\n            )}\n        </>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}